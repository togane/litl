!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e=function t(e){var n=document.querySelector("#site-navigation");n&&(n.querySelectorAll("a").forEach(function(e){e.addEventListener("focus",t.toggleFocus,!0),e.addEventListener("blur",t.toggleFocus,!0)}),t.initHamburgerIcon(n),t.initMainNavigation(n,e),t.toggleFocusClassTouchScreen(n))};e.initHamburgerIcon=function(t){var n=document.querySelector("#menu-toggle");n.setAttribute("aria-expanded","false"),t.setAttribute("aria-expanded","false"),n.addEventListener("click",function(){n.classList.toggle("toggled-on"),t.classList.toggle("toggled-on");var e=t.classList.contains("toggled-on")?"true":"false";n.setAttribute("aria-expanded",e),t.setAttribute("aria-expanded",e)})},e.initMainNavigation=function(e,o){var t='<button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">'+o.expand+"</span></button>";e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a").forEach(function(e){e.insertAdjacentHTML("afterend",t)}),e.querySelectorAll(".current-menu-ancestor > button").forEach(function(e){e.classList.add("toggled-on"),e.setAttribute("aria-expanded","true"),e.querySelector(".screen-reader-text").textContent=o.collapse}),e.querySelectorAll(".current-menu-ancestor > .sub-menu").forEach(function(e){e.classList.add("toggled-on")}),e.querySelectorAll(".menu-item-has-children").forEach(function(e){e.setAttribute("aria-haspopup","true")}),e.querySelectorAll(".dropdown-toggle").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault(),n.classList.toggle("toggled-on"),n.nextElementSibling.classList.toggle("toggled-on"),n.setAttribute("aria-expanded","false"===n.getAttribute("aria-expanded")?"true":"false");var t=n.querySelector(".screen-reader-text");t.textContent=t.textContent===o.expand?o.collapse:o.expand})})},e.toggleFocus=function(){for(var e=this;-1===e.className.indexOf("primary-menu");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("focus"),e=e.parentElement},e.toggleFocusClassTouchScreen=function(e){var t=e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");"ontouchstart"in window&&t.forEach(function(e){e.addEventListener("touchstart",function(e){var t,n=this.parentNode;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(e.preventDefault(),t=0;t<n.parentNode.children.length;++t)n!==n.parentNode.children[t]&&n.parentNode.children[t].classList.remove("focus");n.classList.add("focus")}},!1)})};var o=function e(t,n){var o,a=document.querySelector(t);n.isEnabled&&a&&(window.addEventListener("scroll",function(){e.toggleButton(500,a)}),a.addEventListener("click",function(){document.body.scrollTop?o=document.body:document.documentElement.scrollTop&&(o=document.documentElement),e.scrollToTop(o,300)}))};o.scrollToTop=function(e,t){if(!(t<=0)){var n=(0-e.scrollTop)/t*10;setTimeout(function(){e.scrollTop=e.scrollTop+n,0!==e.scrollTop&&o.scrollToTop(e,t-10)},10)}},o.toggleButton=function(e,t){document.body.scrollTop>e||document.documentElement.scrollTop>e?t.classList.add("is-active"):t.classList.remove("is-active")};var t=function e(){e.defaultSearch(),e.productSearch()};t.defaultSearch=function(){var e=document.querySelector("#search-toggle"),t=document.querySelector(".shapla-main-menu-search");t&&e&&(e.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("shapla-main-menu-search-open"),t.querySelector('input[name="s"]').focus()}),window.addEventListener("click",function(e){t.contains(e.target)||t.classList.remove("shapla-main-menu-search-open")}))},t.productSearch=function(){var t=document.querySelector(".shapla-product-search");if(t){var e=t.querySelector(".shapla-cat-list");if(e){var n=t.querySelector(".nav-search-label"),o=n.getAttribute("data-default"),a=e.value;n.textContent=""===a?o:a,e.addEventListener("change",function(){var e=this.value;n.textContent=""===e?o:e,t.querySelector('input[type="search"]').focus()})}}};var n=window.Shapla||{};new function(){var e=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),t=-1<navigator.userAgent.toLowerCase().indexOf("opera"),n=-1<navigator.userAgent.toLowerCase().indexOf("msie");(e||t||n)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1)},new e(n),new o("#shapla-back-to-top",n.BackToTopButton),new function(e,t){var n=document.querySelector(e);if(n){var o,a=n.nextElementSibling,r=n.offsetTop,c=!1;t.isEnabled&&window.addEventListener("scroll",function(){o=window.pageYOffset,window.innerWidth<t.minWidth||(r-o<=0&&!c?(n.classList.add("is-sticky"),a.style.marginTop=n.offsetHeight+"px",c=!0):c&&o<=r&&(n.classList.remove("is-sticky"),a.style.marginTop="",c=!1))})}}("#masthead",n.stickyHeader),new t});